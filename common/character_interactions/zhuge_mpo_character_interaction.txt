# 朝贡者契约互动
zhuge_mpo_qiyue = {
    special_interaction = liege_modify_vassal_contract
    interface = modify_vassal_contract
    common_interaction = yes
    category = interaction_category_cheat_menu
    icon = icon_contract_modification_single
    desc = zhuge_mpo_qiyue_desc
    auto_accept = yes

    send_name = "suzerain_modify_tributary_contract_interaction_send"
    force_notification = yes
    notification_text = MODIFY_VASSAL_CONTRACT_NOTIFICATION_TO_VASSAL

    is_shown = {
        scope:recipient = {
            is_tributary_of = scope:actor
            subject_contract_has_modifiable_obligations = yes
        }
        scope:actor = {
            is_ai = no
            has_character_flag = daddy_pika_cheat_menu
        }
    }
    is_valid_showing_failures_only = { always = yes }
    can_send = { always = yes }

    on_accept = {
        scope:recipient = { hidden_effect = { set_subject_contract_modification_blocked = no } }
        scope:actor = {
            send_interface_message = {
                type = msg_vassal_contract_change
                title = modify_vassal_contract_interaction_notification
                right_icon = scope:recipient
                every_in_list = {
                    list = changed_obligations
                    save_scope_as = obligation
                    scope:recipient = {
                        tributary_contract_set_obligation_level = {
                            type = scope:obligation.vassal_contract_type
                            level = scope:obligation
                        }
                    }
                }
            }
        }
    }
}
